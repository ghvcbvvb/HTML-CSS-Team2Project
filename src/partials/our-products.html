<section class="products">
  <h2 id="our-products">Our <span>products</span></h2>
  <!-- <br /> -->
  <div class="carousel-container">
    <ul class="product-list">
      <li class="product-item" data-index="0">
        <img
          src="./images/orange.jpg"
          alt="Orange Chocolate"
          class="responsive-img-prod"
        />
        <h4>ORANGE</h4>
        <p>Dark chocolate</p>
        <button class="button" type="button">45 UAH</button>
      </li>
      <li class="product-item" data-index="1">
        <img
          src="./images/apple&cranberry.jpg"
          alt="Apple & Cranberry Chocolate"
          class="responsive-img-prod"
        />
        <h4>APPLE&CRANBERRY</h4>
        <p>Milk chocolate</p>
        <button class="button" type="button">50 UAH</button>
      </li>
      <li class="product-item" data-index="2">
        <img
          src="./images/lime&sea_salt.jpg"
          alt="Lime & Sea Salt Chocolate"
          class="responsive-img-prod"
        />
        <h4>LIME&SEA SALT</h4>
        <p>Dark chocolate</p>
        <button class="button" type="button">66 UAH</button>
      </li>
      <li class="product-item" data-index="3">
        <img
          src="./images/pineapple.jpg"
          alt="Pineapple Chocolate"
          class="responsive-img-prod"
        />
        <h4>PINEAPPLE</h4>
        <p>Dark chocolate</p>
        <button class="button" type="button">54 UAH</button>
      </li>
      <li class="product-item" data-index="4">
        <img
          src="./images/classic.jpg"
          alt="Classic Chocolate"
          class="responsive-img-prod"
        />
        <h4>CLASSIC</h4>
        <p>Milk chocolate</p>
        <button class="button" type="button">45 UAH</button>
      </li>
      <li class="product-item" data-index="5">
        <img src="./images/honey.jpg" alt="Honey" class="responsive-img-prod" />
        <h4>HONEY</h4>
        <p>Milk chocolate</p>
        <button class="button" type="button">50 UAH</button>
      </li>
      <li class="product-item" data-index="6">
        <img
          src="./images/roasted_fruits.jpg"
          alt="Roasted Fruits"
          class="responsive-img-prod"
        />
        <h4>ROASTE FRUITS</h4>
        <p>Dark chocolate</p>
        <button class="button" type="button">66 UAH</button>
      </li>
      <li class="product-item" data-index="7">
        <img
          src="./images/classic_white.jpg"
          alt="Classic"
          class="responsive-img-prod"
        />
        <h4>CLASSIC</h4>
        <p>White chocolate</p>
        <button class="button" type="button">54 UAH</button>
      </li>
    </ul>
    <!-- <br /> -->
    <div class="carousel-indicators">
      <span class="dot" onclick="goToSlide(0)"></span>
      <span class="dot" onclick="goToSlide(1)"></span>
      <span class="dot" onclick="goToSlide(2)"></span>
      <span class="dot" onclick="goToSlide(3)"></span>
      <span class="dot" onclick="goToSlide(4)"></span>
      <span class="dot" onclick="goToSlide(5)"></span>
      <span class="dot" onclick="goToSlide(6)"></span>
      <span class="dot" onclick="goToSlide(7)"></span>
    </div>
  </div>

  <script>
    let currentIndex = 0;

    function scrollCarousel(direction) {
      const carousel = document.querySelector('.product-list');
      const itemWidth =
        carousel.querySelector('.product-item').offsetWidth + 20; // including margin
      currentIndex += direction;

      // Prevent scrolling beyond the list
      const maxIndex = carousel.children.length - 8; // Show 4 items at a time
      if (currentIndex < 0) currentIndex = 0;
      if (currentIndex > maxIndex) currentIndex = maxIndex;

      carousel.scrollBy({
        left: direction * itemWidth,
        behavior: 'smooth',
      });

      updateDots();
    }

    function updateDots() {
      const dots = document.querySelectorAll('.carousel-indicators .dot');
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentIndex);
      });
    }

    function goToSlide(index) {
      const carousel = document.querySelector('.product-list');
      const itemWidth =
        carousel.querySelector('.product-item').offsetWidth + 20; // including margin
      currentIndex = index;

      carousel.scrollTo({
        left: currentIndex * itemWidth,
        behavior: 'smooth',
      });

      updateDots();
    }

    // Initialize the first dot as active
    document.addEventListener('DOMContentLoaded', () => {
      updateDots();
    });
  </script>
</section>
